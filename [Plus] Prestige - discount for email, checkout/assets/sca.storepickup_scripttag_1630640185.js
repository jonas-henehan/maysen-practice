if (typeof SCASPSetting === "undefined" || typeof jQuerySCASP === "undefined" || typeof jQuerySCASP.fn.storePickup === "undefined") {
SCASPSetting={"def_apk":"AIzaSyD8BskfTrgyBRao0ptVsgX4Q1kvtcA2tec","sg_enable_app":1,"sg_api_key":"","sg_zoom":12,"sg_enable_shipping":0,"sg_enable_pickup":true,"sg_enable_delivery":0,"sg_delivery_conditions":"{\"total_min\":\"\",\"total_max\":\"\",\"operator\":\"and\",\"qty_min\":\"\",\"qty_max\":\"\"}","sg_time_format":0,"sg_search_box":1,"sg_restric_country":[],"sg_autogeocode":1,"sg_pagination":1,"sg_location_per_page":8,"sg_distance_length_unit":"m","sg_cart_form_selector":"form[action*=\"cart\"][method=\"post\"]","sg_pickup_position":"button[name=\"checkout\"]:visible, input[name=\"checkout\"]:visible","sg_hide_address_fields":1,"sg_enable_billing_address":1,"sg_datetime_format":"yyyy\/mm\/dd","sp_filter_tags_by":"or","sd_tab_background_color":"#ffffff","sd_active_tab_background_color":"#f4f4f4","sd_enable_case_sensitive_zipcode_filter":0,"sd_shop_name_color":"#000000","sd_shop_info_color":"#000000","sd_shop_name_font_type":"","sd_shop_info_font_type":"","sd_tab_border_color":"#c2c2c2","sd_active_tab_border_color":"#000000","sd_search_box_border_color":"#949494","sd_timepicker_box_border_color":"#949494","sd_enable_restrict_location":0,"sp_pickup_conditions":"{\"total_min\":\"\",\"total_max\":\"\",\"operator\":\"and\",\"qty_min\":\"\",\"qty_max\":\"\"}","sp_disable_shipping":0,"sp_enable_deposit":0,"sp_deposit_amount":0,"sp_all_product_tags":[],"sp_no_tag_location":1,"sp_inventory_type":2,"sp_all_shopify_locations":["64773292221"],"sp_no_shopify_location":0,"sp_stores_sort_by":"default","sg_enable_google_map_api":0,"sp_enable_auto_add_rate_product":0,"sp_pickup_product_id":0,"sp_pickup_variant_id":0,"st_shipping_tab":"Shipping","st_shipping_text_content":"Please click the checkout button to continue.","st_store_pickup_tab":"Store Pickup","st_store_pickup_text_content":"Find your nearest pickup location:","st_find_my_location":"Find My Location","st_search_box_placeholder":"Enter your postal code or address...","st_datetime_pickup_placeholder":"Choose a date and time","st_non_select_store_validate_text":"Please choose a store","st_non_select_datetime_validate_text":"Please choose a date and time","st_more_information_text":"More information","st_opening_hours_text":"Opening hours","st_mile_text":"mile","st_miles_text":"miles","st_kilometer_text":"kilometer","st_kilometers_text":"kilometers","st_pickup_text":"Pickup time","st_days_full":null,"st_days_short":null,"st_months_full":null,"st_months_short":null,"st_you_selected_location":"You selected location","st_local_delivery_tab":"Local Delivery","st_local_delivery_text_content":"Enter your address into the field below to check if you are eligible for local delivery","st_delivery_address_validate_success":"Congratulations! You are eligible for delivery.","st_delivery_address_is_required":"Please enter your address to check.","st_delivery_address_is_not_valid":"Sorry. Your location is not available for delivery.","st_delivery_no_validate":"Please choose delivery time.","st_delivery_between_text":"between","st_delivery_and_text":"and","st_delivery_contact_shipping_address_title":"Delivery information","st_delivery_thank_you_marker_shipping":"Delivery address","st_delivery_thank_you_shipping_address_title":"Delivery address","st_delivery_general_edit_shipping_address":"Edit delivery address","st_delivery_general_continue_to_shipping_method":"Continue to delivery method","st_delivery_order_summary_shipping_label":"Delivery","st_delivery_shipping_title":"Delivery method","st_delivery_shipping_waiting_on_rate_notice":"Please wait while we fetch available delivery rates...","st_delivery_shipping_no_rates_for_cart_or_destination_notice":"Delivery is not available for your cart or destination.","st_delivery_shipping_no_rates_for_country_notice":"We don't offer delivery in {{ country }}.","st_search_box_by_postal_code_placeholder":"Enter your postal code ...","st_delivery_postal_code_is_required":"Please enter your postal code to check ...","st_location_not_found":"Your zip code is not eligible for delivery, please choose other methods.","st_shipping_label":"Store Pickup Deposit (Refund Later)","st_shipping_title":"Store Pickup","st_total_due":"PENDING BILLING","st_pickup_not_valid":"Sorry. Your cart items are not available for pickup.","st_delivery_not_valid":"Sorry. Your cart items are not available for delivery.","searchLocation":{"193670":0},"locationsRaw":"[{\"id\":193670,\"store_id\":8360,\"name\":\"Pickup Local 1\",\"address\":\"85 Thompson Street\",\"address2\":\"\",\"city\":\"Cambridge\",\"country\":\"New Zealand\",\"state\":\"Waikato\",\"notification_emails\":\"\",\"notification_template\":\"Hi {{$shop_name}},\\r\\nPlease notice the information:\\r\\nYour customer's name: {{$cust_name}}({{$cust_email}})\\r\\nPickup Date: {{$specified_time}}\\r\\nOrder Id: {{$order_id}} \\r\\nOrder Name: {{$order_name}}\\r\\nOrder Link: {{$order_link}}   \\r\\nPickup Address: {{$address}}\\r\\nPhone: {{$phone}}\\r\\nOrder Summary:\\r\\n{{$order_summary}}\\r\\n\",\"delivery_notification_template\":\"Hi {{$shop_name}},\\r\\nPlease notice the information:\\r\\nYour customer's name: {{$cust_name}}({{$cust_email}})\\r\\nDelivery Time: {{$specified_time}}\\r\\nOrder Id: {{$order_id}}\\r\\nOrder Name: {{$order_name}}\\r\\nOrder Link: {{$order_link}}\\r\\nShipping Address: {{$address}}\\r\\nPhone: {{$phone}}\\r\\nOrder Summary:\\r\\n{{$order_summary}}\\r\\n\\r\\n\",\"opening_hours\":{\"2\":{\"name\":\"Monday\",\"keyname\":\"monday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"3\":{\"name\":\"Tuesday\",\"keyname\":\"tuesday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"4\":{\"name\":\"Wednesday\",\"keyname\":\"wednesday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"5\":{\"name\":\"Thursday\",\"keyname\":\"thursday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"6\":{\"name\":\"Friday\",\"keyname\":\"friday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"7\":{\"name\":\"Saturday\",\"keyname\":\"saturday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"1\":{\"name\":\"Sunday\",\"keyname\":\"sunday\",\"from\":\"09:00\",\"to\":\"17:00\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"}},\"enable_date_picker\":0,\"enable_time_picker\":0,\"time_picker_slot\":0,\"status\":1,\"created_at\":\"2021-09-03 03:35:04\",\"updated_at\":\"2021-09-03 03:35:04\",\"enable_delivery\":0,\"delivery_max_radius\":0,\"delivery_enable_date_picker\":0,\"delivery_enable_time_picker\":0,\"delivery_hours\":{\"2\":{\"name\":\"Monday\",\"keyname\":\"monday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"3\":{\"name\":\"Tuesday\",\"keyname\":\"tuesday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"4\":{\"name\":\"Wednesday\",\"keyname\":\"wednesday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"5\":{\"name\":\"Thursday\",\"keyname\":\"thursday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"6\":{\"name\":\"Friday\",\"keyname\":\"friday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"7\":{\"name\":\"Saturday\",\"keyname\":\"saturday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"},\"1\":{\"name\":\"Sunday\",\"keyname\":\"sunday\",\"wait_day\":\"0\",\"wait_hour\":\"0\",\"wait_minute\":\"0\",\"max_day\":\"7\",\"max_hour\":\"0\",\"max_minute\":\"0\",\"status\":\"1\"}},\"blackout_dates\":null,\"phone\":\"\",\"enable_pickup_rates\":0,\"pickup_rates_json\":\"\",\"enable_max_datetime_picker\":0,\"delivery_enable_max_datetime_picker\":0,\"notification_subject\":\"[Store Pickup Notification] Order {{$order_name}} will be picked up at your store {{$specified_time}}.\",\"delivery_notification_subject\":\"[Local Delivery Notification] Order {{$order_name}} will deliver to your customer {{$specified_time}}.\",\"enable_delivery_rates\":0,\"delivery_rates_json\":\"\",\"description\":\"Yayyy!\",\"enable_inventory\":1,\"shopify_location_id\":\"64773292221\",\"enable_limit_pickup_slot\":0,\"enable_limit_delivery_slot\":0,\"limit_pickup_slot\":null,\"limit_delivery_slot\":null,\"pickup_slot\":null,\"delivery_slot\":null,\"enable_store_pickup\":1,\"enable_cut_off_time\":0,\"time_cut_off\":\"\",\"day_cut_off_after\":0,\"enable_cut_off_time_delivery\":0,\"time_cut_off_delivery\":\"\",\"day_cut_off_after_delivery\":0,\"available_zipcodes_restrict_delivery\":null,\"lat\":\"-37.88917920182586\",\"lng\":\"175.4662613578328\",\"postal\":\"3432\",\"tagsvalue\":\"64773292221\"}]","defaultLat":"-37.88917920182586","defaultLng":"175.4662613578328","version":"CHARGE_ONE_LOCATION"};
function scasp_is_installed(){for(var e=!1,t=document.getElementsByTagName("script"),i=0;i<t.length;++i){var a=t[i].getAttribute("src");if(t[i].innerText.indexOf("asyncLoad")>=0&&t[i].innerText.indexOf("sca.storepickup_scripttag")>=0||a&&a.indexOf("shop=")>=0&&a.indexOf("sca.storepickup_scripttag")>=0){testMode&&console.log("already has scripttag, load SP"),e=!0;break}}return e}function scaSetCookie(e,t){var i=new Date;i.setTime(i.getTime()+18e5);var a="expires="+i.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function scaGetCookie(e){for(var t=e+"=",i=decodeURIComponent(document.cookie),a=i.split(";"),s=0;s<a.length;s++){for(var n=a[s];" "==n.charAt(0);)n=n.substring(1);if(0==n.indexOf(t))return n.substring(t.length,n.length)}return"none"}function gm_authFailure(){if("none"==scaGetCookie("scasp_gm_auth_fail")&&"undefined"!=typeof jQuerySCASP){var e="";e=SCASPSetting.sg_api_key?SCASPSetting.sg_api_key.trim():SCASPSetting.def_apk,""!=Shopify.shop&&""!=e&&jQuerySCASP.ajax({url:"https://secomapp.com/storepickup/maperror",data:{store:Shopify.shop,api_key:e.trim()},type:"post",success:function(e){testMode&&console.log(e),scaSetCookie("scasp_gm_auth_fail",Shopify.shop)}})}}function disabledCheckoutButton(e,t){if(scaspAllowDisabledChekoutButton){let i=t('input[name="checkout"]'),a=0!==i.length?i:t('button[name="checkout"]');e?(a.prop("disabled",!0),a.css("cursor","not-allowed")):setTimeout(()=>{a.removeAttr("style"),a.prop("disabled",!1)},scaspDelayTimeDisabledCheckoutButton)}}function checkAvailableTimeSlot(e,t,i){if("pickup"===e){let a={method:e,day:t.day,month:t.month,year:t.year,hour:t.hour,minute:t.minute,shop_name:Shopify.shop,location_id:parseInt(i('input[name="location_id"]:checked').val())};postCheckingSlotData(a,i)}if("delivery"===e){let a={method:e,day:t.day,month:t.month,year:t.year,shop_name:Shopify.shop,location_id:parseInt(i(".location_id").first().val())};postCheckingSlotData(a,i)}}function postCheckingSlotData(e,t){let i=t("img#sca-limit-pickup-loader");checkingAvailableSlot||(checkingAvailableSlot=!0,i.removeClass("d-none"),t.ajax({url:"https://secomapp.com/storepickup/check-available-time-slot",method:"post",dataType:"json",data:e,success:function(e){i.addClass("d-none"),processTimeSlotData(e,t)},error:function(){checkingAvailableSlot=!1,i.addClass("d-none"),disabledCheckoutButton(!1,t)}}))}function usePickupRateProduct(){return SCASPSetting.sp_pickup_product_id&&SCASPSetting.sp_pickup_variant_id&&SCASPSetting.sp_enable_auto_add_rate_product}function addPickupRateProduct(){testMode&&console.log("add");let e=!1,t=null;return jQuerySCASP.ajax({url:"/cart.js",method:"GET",dataType:"JSON",async:!1}).done(i=>{let a=i,s=SCASPSetting.sp_pickup_variant_id;if(void 0!==a.token){let i=a.items;t=i.filter(e=>e.id==s),e=t.length,e&&(t=t[0])}}).then(()=>{e&&t.quantity>1&&jQuerySCASP.ajax({url:"/cart/update.js",data:{updates:{[SCASPSetting.sp_pickup_variant_id]:1}},method:"POST",async:!1,dataType:"JSON"})}).then(()=>{e||jQuerySCASP.ajax({url:"/cart/add.js",data:{items:[{quantity:1,id:SCASPSetting.sp_pickup_variant_id}]},method:"POST",async:!1,dataType:"JSON"})})}function removePickupRateProduct(){testMode&&console.log("remove");let e=!1;return jQuerySCASP.ajax({url:"/cart.js",method:"GET",async:!1,dataType:"JSON"}).done(t=>{let i=t,a=SCASPSetting.sp_pickup_variant_id;if(void 0!==i.token){let t=i.items;e=t.filter(e=>e.id==a).length}}).then(()=>{e&&jQuerySCASP.ajax({url:"/cart/update.js",data:{updates:{[SCASPSetting.sp_pickup_variant_id]:0}},method:"POST",async:!1,dataType:"JSON"})})}function processTimeSlotData(e,t){let i=t("span.scasp-datetime-required");2===parseInt(e.code)?(disabledCheckoutButton(!1,t),i.text(e.message),i.css("display","block"),i.css("color","green")):(i.text(e.message),i.css("display","block"),i.css("color","red")),checkingAvailableSlot=!1}function isCartPage(){let e=window.location.href;return e.includes("/cart")}function locationRestrictByPostalCode(){return testMode&&console.log("check location restrict by postal code"),SCASPSetting.hasOwnProperty("sd_enable_restrict_location")&&2==SCASPSetting.sd_enable_restrict_location}function locationRestrictByDistance(){return testMode&&console.log("check location restrict by distance base on setting"),!SCASPSetting.hasOwnProperty("sd_enable_restrict_location")||SCASPSetting.hasOwnProperty("sd_enable_restrict_location")&&1==SCASPSetting.sd_enable_restrict_location}function enableInventoryDelivery(){return testMode&&console.log("check enable inventory delivery"),0!=SCASPSetting.sp_inventory_type&&!scaspDisableInventoryDelivery}function generateAutoFillCheckout(e){return"pickup"==e?"undefined"==typeof SCASPAutoFillCheckoutPagePickup?scaspAutoFillCheckoutPagePickup:{...scaspAutoFillCheckoutPagePickup,...SCASPAutoFillCheckoutPagePickup}:"delivery"==e?"undefined"==typeof SCASPAutoFillCheckoutPageDelivery?scaspAutoFillCheckoutPageDelivery:{...scaspAutoFillCheckoutPageDelivery,...SCASPAutoFillCheckoutPageDelivery}:void 0}var SCASPLocationsData=null,processPickupData=null,testMode="undefined"!=typeof SCASPTestModeTheme&&SCASPTestModeTheme,SCASPCart=null,checkingAvailableSlot=!1,storePickupPlugin=null,addedProductPickup=!1,scaspAutoFillCheckoutPagePickup={company:!0,address1:!0,address2:!0,city:!0,country:!0,zipcode:!0,province:!0},scaspAutoFillCheckoutPageDelivery={country:!0,zipcode:!0,province:!0},arrTimeOutTrigger=[],useGeneralScriptCdn="undefined"!=typeof SCASPUseGeneralScriptCdn&&SCASPUseGeneralScriptCdn,scaspAllowDisabledChekoutButton="undefined"==typeof SCASPAllowDisabledCheoutButton||SCASPAllowDisabledCheoutButton,scaspDelayTimeDisabledCheckoutButton="undefined"==typeof SCASPDelayTimeDisabledCheckoutButton?1e3:SCASPDelayTimeDisabledCheckoutButton,scaspAutoAddZipcodeDeliveryCheckout="undefined"==typeof SACSPAutoAddZipcodeDeliveryCheckout||SACSPAutoAddZipcodeDeliveryCheckout,scaspDisableInventoryDelivery="undefined"!=typeof SCASPDisableInventoryDelivery&&SCASPDisableInventoryDelivery,scaspDisableCheckoutButtonWhenInventoryNotValid="undefined"==typeof SCASPDisableCheckoutButtonWhenInventoryNotValid||SCASPDisableCheckoutButtonWhenInventoryNotValid,scaspGetExtendActionUri="undefined"==typeof SCASPGetExtendActionUri?function(e=null){return e}:SCASPGetExtendActionUri,scaspAddRemoveStorePickupProductWhenClickTab="undefined"==typeof SCASPAddRemoveStorePickupProductWhenClickTab||SCASPAddRemoveStorePickupProductWhenClickTab;window.afDraftOrderCheckout=!0,window.afDiscountObject=null,function(){function e(e,t,i){if(0==t)return[e,t];for(var a=0;a<=60/i;a++)if(t<=i*a){60==t?(t=0,e++):(t=i*a,60==t&&(t=0,e++));break}return[e,t]}function t(){return SCASPSetting.sg_api_key?SCASPSetting.sg_api_key.trim():SCASPSetting.def_apk}function i(){return void 0===SCASPSetting.sg_enable_google_map_api||SCASPSetting.sg_enable_google_map_api}function a(e){return e.day_cut_off_after>0&&""!=e.time_cut_off&&e.enable_date_picker}function s(e){return e.day_cut_off_after_delivery>0&&""!=e.time_cut_off_delivery&&e.delivery_enable_date_picker}function n(e){var t='<style type="text/css">';t+="#sca-storepickup-methods li {background-color:"+SCASPSetting.sd_tab_background_color+" !important;}",t+="#sca-storepickup-methods li.active {background-color:"+SCASPSetting.sd_active_tab_background_color+" !important;}",t+=".scasp-title {color:"+SCASPSetting.sd_shop_name_color+" !important;}",""!=SCASPSetting.sd_shop_name_font_type&&(t+=".scasp-title {font-family:"+SCASPSetting.sd_shop_name_font_type+" !important;}"),t+=".scasp-address, .scasp-address2, .scasp-city, .scasp-state, .scasp-zipcode, .scasp-country {color:"+SCASPSetting.sd_shop_info_color+" !important;}",""!=SCASPSetting.sd_shop_info_font_type&&(t+=".scasp-address, .scasp-address2, .scasp-city, .scasp-state, .scasp-zipcode, .scasp-country {font-family:"+SCASPSetting.sd_shop_info_font_type+" !important;}"),""!=SCASPSetting.sd_tab_border_color&&(t+="#sca-storepickup-methods li { border-color: "+SCASPSetting.sd_tab_border_color+" !important;}"),""!=SCASPSetting.sd_active_tab_border_color&&(t+="#sca-storepickup-methods li.active { border-color: "+SCASPSetting.sd_active_tab_border_color+" !important;}"),""!=SCASPSetting.sd_search_box_border_color&&(t+="#bh-sl-address { border-color: "+SCASPSetting.sd_search_box_border_color+" !important;}"),""!=SCASPSetting.sd_timepicker_box_border_color&&(t+="#date-pickup { border-color: "+SCASPSetting.sd_timepicker_box_border_color+" !important;}"),t+="</style>",e("html > head").append(t)}function o(e,t){if(t.length>0){e(".bh-sp-filters-container").remove();for(var i='<div class="bh-sp-filters-container" style="display:none"><ul id="scasp-tag-list-container" class="bh-sp-filters">',a=0;a<t.length;a++)i+='<li><input type="checkbox" name="tagsvalue" value="'+t[a]+'" checked="checked"></li>';i+="</ul></div>",e("#sca-storepickup-desc .bh-sl-container").append(i),void 0!==SCASPSetting.storePickup?(SCASPSetting.storePickup.settings.taxonomyFilters={tagsvalue:"scasp-tag-list-container"},SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.mapReload()):q(e)}else if(SCASPSetting.sp_no_tag_location>0){e(".bh-sp-filters-container").remove();i='<div class="bh-sp-filters-container" style="display:none"><ul id="scasp-tag-list-container" class="bh-sp-filters">';i+='<li><input type="checkbox" name="tagsvalue" value="no_tag_for_store_pickup" checked="checked"></li>',i+="</ul></div>",e("#sca-storepickup-desc .bh-sl-container").append(i),void 0!==SCASPSetting.storePickup?(SCASPSetting.storePickup.settings.taxonomyFilters={tagsvalue:"scasp-tag-list-container"},SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.mapReload()):q(e)}else e(".sca-storepickup-delivery-not-valid").remove(),e(".sca-storepickup-pickup-not-valid").remove(),R(jQuerySCASP)||e(".sca-storepickup-pickup-desc").after('<p class="sca-storepickup-pickup-not-valid" style="color: #ff0000">'+SCASPSetting.st_pickup_not_valid+"</p>"),R(jQuerySCASP)&&enableInventoryDelivery()&!locationRestrictByPostalCode()&&(e(".sca-storepickup-pickup-desc").after('<p class="sca-storepickup-delivery-not-valid" style="color: #ff0000">'+SCASPSetting.st_delivery_not_valid+"</p>"),e(".scasp-delivery-no-validate").hide(),e("#date-delivery").hide()),e(".bh-sl-container, .sca-storepickup-pickup-desc, .scasp-selected, #date-pickup").hide(),e(".scasp-selected").remove(),R(jQuerySCASP)&&enableInventoryDelivery()&&locationRestrictByPostalCode()&&(e(".bh-sl-container").show(),e(".bh-sl-map-container").hide(),e(".sca-storepickup-delivery-not-valid").hide(),D.log("gvghavghsfasf")),scaspDisableCheckoutButtonWhenInventoryNotValid&&disabledCheckoutButton(!0,jQuerySCASP)}function r(e){if(!(SCASPSetting.sp_all_product_tags.length>0))return!0;e.getJSON("/cart.js",function(t){if(SCASPCart=t,scaspSearchCallback=function(t){let i=t.tags;if(i=i.filter(e=>e.length>0&&!e.includes("SCA_STOREPICKUP_PRODUCT")),t.tags=i,t.tags.length>0){var a=[];if(t.hasOwnProperty("products"))for(var s=0;s<SCASPCart.items.length;s++)for(var n in t.products)SCASPCart.items[s].handle==t.products[n].handle&&SCASPSetting.sp_all_product_tags.filter(function(e){-1!=t.products[n].tag.indexOf(e)&&(a.includes(e)||a.push(e))});else for(var r=0;r<t.tags.length;r++)t.tags[r].length>0&&SCASPSetting.sp_all_product_tags.filter(function(e){-1!=t.tags[r].indexOf(e)&&(a.includes(e)||a.push(e))});o(e,a)}else void 0!==SCASPSetting.storePickup?(SCASPSetting.storePickup.settings.taxonomyFilters={tagsvalue:"scasp-tag-list-container"},SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.mapReload()):q(e);e(".sca-storepickup-loading").length>0&&(e(".sca-storepickup-loading").css("display","none"),e("#sca-storepickup-container").css("opacity","1"))},"undefined"!=typeof SCASPProductTagJson){var i=[];D.log(SCASPProductTagJson);for(var a=0;a<t.items.length;a++)e.ajax({url:"/products/"+t.items[a].handle+".json",async:!1,method:"GET",dataType:"json",success:function(e){var t=e.product;if(void 0!==t.tags&&""!=t.tags)for(var a=t.tags.split(", "),s=0;s<a.length;s++)SCASPSetting.sp_all_product_tags.filter(function(e){-1!=a[s].indexOf(e)&&(i.includes(e)||i.push(e))})}});o(e,i)}else{var s="/search.js?q=";for(a=0;a<t.items.length;a++)s+=a>0?" OR handle:"+t.items[a].handle:"handle:"+t.items[a].handle;s+="&type=product&view=scasp.product.js&_="+(new Date).getTime(),e.getScript(s)}return!1})}function c(e){if(!(SCASPSetting.sp_all_shopify_locations.length>0))return!0;e.getJSON("/cart.js",function(t){if(!(t.item_count>0))return!0;for(var i=t,a=Array(),s=0;s<t.items.length;s++)a.push(t.items[s].variant_id);e.ajax({url:"https://secomapp.com/storepickup/shopifylocation",method:"GET",type:"JSON",data:{shop:Shopify.shop,variant_ids:a},success:function(t){if(1!=t.status)return!0;var a=t.data,s=[];e.each(a,function(e,t){for(var a=0;a<i.items.length;a++)if((!usePickupRateProduct()||void 0===SCASPSetting.sp_pickup_variant_id||i.items[a].variant_id!=SCASPSetting.sp_pickup_variant_id)&&i.items[a].variant_id==e)for(var n=0;n<t.length;n++)i.items[a].quantity>t[n].quantity&&s.push(t[n].id)});for(var n=Object.keys(a)[0],o=a[n],r=[],c=0;c<o.length;c++){var p=0;e.each(a,function(e,t){if(e!=n)for(var i=0;i<t.length;i++)t[i].id==o[c].id&&p++}),p!=Object.keys(a).length-1||s.includes(o[c].id)||SCASPSetting.sp_all_shopify_locations.includes(o[c].id)&&r.push(o[c].id)}if(r.length>0){e(".bh-sp-filters-container").remove();for(var l='<div class="bh-sp-filters-container" style="display:none"><ul id="scasp-tag-list-container" class="bh-sp-filters">',u=0;u<r.length;u++)l+='<li><input type="checkbox" name="tagsvalue" value="'+r[u]+'" checked="checked"></li>';l+="</ul></div>",e("#sca-storepickup-desc .bh-sl-container").append(l),void 0!==SCASPSetting.storePickup?(SCASPSetting.storePickup.settings.taxonomyFilters={tagsvalue:"scasp-tag-list-container"},SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.mapReload()):q(e)}else if(SCASPSetting.sp_no_shopify_location>0){e(".bh-sp-filters-container").remove();l='<div class="bh-sp-filters-container" style="display:none"><ul id="scasp-tag-list-container" class="bh-sp-filters">';l+='<li><input type="checkbox" name="tagsvalue" value="no_tag_for_store_pickup" checked="checked"></li>',l+="</ul></div>",e("#sca-storepickup-desc .bh-sl-container").append(l),void 0!==SCASPSetting.storePickup?(SCASPSetting.storePickup.settings.taxonomyFilters={tagsvalue:"scasp-tag-list-container"},SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.mapReload()):q(e)}else e(".sca-storepickup-delivery-not-valid").remove(),e(".sca-storepickup-pickup-not-valid").remove(),R(jQuerySCASP)||e(".sca-storepickup-pickup-desc").after('<p class="sca-storepickup-pickup-not-valid" style="color: #ff0000">'+SCASPSetting.st_pickup_not_valid+"</p>"),R(jQuerySCASP)&&enableInventoryDelivery()&!locationRestrictByPostalCode()&&(e(".sca-storepickup-pickup-desc").after('<p class="sca-storepickup-delivery-not-valid" style="color: #ff0000">'+SCASPSetting.st_delivery_not_valid+"</p>"),e(".scasp-delivery-no-validate").hide(),e("#date-delivery").hide()),e(".bh-sl-container, .sca-storepickup-pickup-desc, .scasp-selected, #date-pickup").hide(),e(".scasp-selected").remove(),R(jQuerySCASP)&&enableInventoryDelivery()&&locationRestrictByPostalCode()&&(e(".bh-sl-container").show(),e(".bh-sl-map-container").hide(),e(".sca-storepickup-delivery-not-valid").hide()),scaspDisableCheckoutButtonWhenInventoryNotValid&&disabledCheckoutButton(!0,jQuerySCASP);e(".sca-storepickup-loading").length>0&&(e(".sca-storepickup-loading").css("display","none"),e("#sca-storepickup-container").css("opacity","1"))}})})}function p(e){R(e)&&e(".bh-sl-map, .bh-sl-loc-list, .bh-sl-pagination-container, #date-pickup").hide(),e(".sca-storepickup-loading").length>0&&(e(".sca-storepickup-loading").css("display","none"),e("#sca-storepickup-container").css("opacity","1")),0==e(".new-for-mobile").length&&e(".sca-storepickup-pickup-tab").hasClass("active")?i()?e("#bh-sl-map").show():e("#bh-sl-map").hide():e(".new-for-mobile").length>0&&e(".new-for-mobile").width()>470&&e(".sca-storepickup-pickup-tab").hasClass("active")&&i()?e("#bh-sl-map").show():e("#bh-sl-map").hide()}function l(e){if(testMode&&D.log("load data location"),!SCASPSetting.locationsRaw){SCASPSetting.locationsUrl;var t=e.Deferred();return SCASPLocationsData=SCASPSetting.locationsUrl,e.ajax({type:"GET",url:SCASPSetting.locationsUrl,data:{},dataType:"JSON"}).done(function(e){SCASPLocationsData=e,t.resolve(e)}).fail(t.reject),t.promise()}SCASPLocationsData=e.parseJSON(SCASPSetting.locationsRaw)}function u(e=!1){let t=null;return e?t={field:"distance",type:"asc"}:"default"==SCASPSetting.sp_stores_sort_by?t={field:"id",type:"asc"}:"alphabet_a_z"==SCASPSetting.sp_stores_sort_by?t={field:"name",type:"asc"}:"alphabet_z_a"==SCASPSetting.sp_stores_sort_by&&(t={field:"name",type:"desc"}),t}function d(e,t=!1){return testMode&&D.log("plugin setting"),storePickupPlugin=null,storePickupPlugin={exclusiveFiltering:!SCASPSetting.hasOwnProperty("sp_filter_tags_by")||"or"===SCASPSetting.sp_filter_tags_by,sortBy:u(t),mapSettings:{enable:i(),zoom:SCASPSetting.sg_zoom,zoomControl:!0,mapTypeId:i()?google.maps.MapTypeId.ROADMAP:""},inlineDirections:!0,lengthUnit:SCASPSetting.sg_distance_length_unit,mileLang:SCASPSetting.st_mile_text,milesLang:SCASPSetting.st_miles_text,kilometerLang:SCASPSetting.st_kilometer_text,kilometersLang:SCASPSetting.st_kilometers_text,fullMapStart:!0,slideMap:!1},i()&&"undefined"!=typeof google&&(void 0!==google.maps.places?storePickupPlugin.autoComplete=!0:(storePickupPlugin.autoComplete=!1,e("a#scasp-geocode-btn > img").prop("src","//cdn.secomapp.com/storepickup/assets/cdn/img/scasp-search-icon.png"),e("a#scasp-geocode-btn").prop("id","bh-sp-submit"))),storePickupPlugin.storeLimit=parseInt(SCASPSetting.max_results)||1500,storePickupPlugin.dataType="json",i()?SCASPSetting.locationsRaw?(storePickupPlugin.dataRaw=SCASPSetting.locationsRaw,SCASPLocationsData=e.parseJSON(SCASPSetting.locationsRaw)):storePickupPlugin.dataLocation=SCASPSetting.locationsUrl:l(e),1==SCASPSetting.sg_autogeocode&&(storePickupPlugin.autoGeocode=!0),SCASPSetting.sg_pagination&&(storePickupPlugin.pagination=!0,storePickupPlugin.locationsPerPage=SCASPSetting.sg_location_per_page),SCASPSetting.defaultLat&&SCASPSetting.defaultLng&&(storePickupPlugin.fullMapStart=!1,storePickupPlugin.defaultLoc=!0,storePickupPlugin.defaultLat=SCASPSetting.defaultLat,storePickupPlugin.defaultLng=SCASPSetting.defaultLng),SCASPSetting.hasOwnProperty("sp_inventory_type"),e(".bh-sp-filters-container").length>0&&(storePickupPlugin.taxonomyFilters={tagsvalue:"scasp-tag-list-container"}),storePickupPlugin.callbackMapSet=function(){p(jQuerySCASP)},"undefined"==typeof google&&e("#sca-storepickup-container").css("opacity","1"),storePickupPlugin.callbackListClick=function(t,i){if("function"==typeof scaStorePickupListClick)try{scaStorePickupListClick(t,i)}catch(e){testMode&&D.log("Callback Error!"),testMode&&D.log(e)}else S()&&e(".new-for-mobile").length>0&&(e(".scasp-selected .scasp-selected-content").html(e('li.scasp-list-container[data-markerid="'+t+'"]').html()),e(".scasp-selected").show())},storePickupPlugin.callbackMarkerClick=function(t,i){if("function"==typeof scaStorePickupMarkerClick)try{scaStorePickupMarkerClick(t,i)}catch(e){testMode&&D.log("Callback Error!"),testMode&&D.log(e)}else S()&&e(".new-for-mobile").length>0&&(e(".scasp-selected .scasp-selected-content").html(e('li.scasp-list-container[data-markerid="'+i+'"]').html()),e(".scasp-selected").show(),e('li.scasp-list-container[data-markerid="'+i+'"]').trigger("click"))},storePickupPlugin.callbackNoResults=function(e,t){R(jQuerySCASP)&&jQuerySCASP(".bh-sl-map, .bh-sl-loc-list, .bh-sl-pagination-container, #date-pickup").hide(),jQuerySCASP(".sca-storepickup-loading").length>0&&(jQuerySCASP(".sca-storepickup-loading").css("display","none"),jQuerySCASP("#sca-storepickup-container").css("opacity","1"))},storePickupPlugin}function S(){var e,t=!1;try{e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),jQuerySCASP(".new-for-mobile").length>0&&jQuerySCASP(".new-for-mobile").width()<=470?(jQuerySCASP(".new-for-mobile").addClass("desktop"),t=!0):jQuerySCASP(".new-for-mobile").removeClass("desktop")}catch(e){testMode&&D.log(e)}return t}function g(e){e(".new-for-mobile   .scasp-tab-list").click(function(){e(this).addClass("active"),e(".new-for-mobile #scasp-tabs li.scasp-tab-map").removeClass("active"),e(".new-for-mobile .bh-sl-loc-list").show(),e(".new-for-mobile #bh-sl-map").hide()}),e(".new-for-mobile .scasp-tab-map").click(function(){e(this).addClass("active"),e(".new-for-mobile #scasp-tabs li.scasp-tab-list").removeClass("active"),e(".new-for-mobile .bh-sl-loc-list").hide(),i()?e(".new-for-mobile #bh-sl-map").show():e(".new-for-mobile #bh-sl-map").hide()}),S()&&(i()?(e(".new-for-mobile #scasp-tabs").show(),e(".new-for-mobile #bh-sl-map").hide()):e(".new-for-mobile #scasp-tabs").hide(),e(document).on("click",".new-for-mobile .bh-sl-loc-list ul.list > li",function(){e(".new-for-mobile .scasp-view-map-btn").remove();var t=e("#scasp-viewmap-btn-template").html(),a=Handlebars.compile(t);e(this).after(a),i()||e(".scasp-view-map-btn").hide()}),e(document).on("click",".new-for-mobile .scasp-view-map-btn",function(){return e(".new-for-mobile .scasp-tab-map").trigger("click"),!1}))}function m(t){if(SCASPSetting.sg_enable_app&&(n(t),t("#sca-storepickup-container").show()),0==t(SCASPSetting.sg_cart_form_selector+' input[name="attributes[Checkout-Method]"]').length&&t('#sca-storepickup-desc input[name*="attributes["]').appendTo(t(SCASPSetting.sg_cart_form_selector)),"undefined"!=typeof SCASPDisableShipping&&(k=SCASPDisableShipping),"undefined"!=typeof SCASPDisableDelivery&&(f=SCASPDisableDelivery),"undefined"!=typeof SCASPDisablePickup&&(y=SCASPDisablePickup),"undefined"!=typeof SCASPLocale&&(v=SCASPLocale,testMode&&D.log(v)),SCASPSetting.sg_enable_shipping&&!k&&(H(t,0),t(".sca-storepickup-shipping-tab").on("click",function(){i()||N(!0),usePickupRateProduct()&&isCartPage()&&removePickupRateProduct(),disabledCheckoutButton(!1,t),t("#sca-storepickup-desc p, .bh-sl-container, #date-pickup, .scasp-error-msg, .scasp-delivery-validate, .scasp-delivery-success, #date-delivery, .scasp-delivery-no-validate, #scasp-tabs, .scasp-selected").hide(),t("#sca-storepickup-methods li").removeClass("active"),t(".sca-storepickup-shipping-desc").show(),t(".sca-storepickup-shipping-tab").addClass("active"),U(t),H(t,0),i()||N(!1)})),t(SCASPSetting.sg_cart_form_selector+' input[name="update"], '+SCASPSetting.sg_cart_form_selector+' button[name="update"], '+SCASPSetting.sg_cart_form_selector+" .update_subtotal").click(function(){t(SCASPSetting.sg_cart_form_selector).prop("action","/cart")}),SCASPSetting.sg_enable_pickup&&!y){t(".sca-storepickup-pickup-tab").on("click",function(){i()||N(!0),usePickupRateProduct()&&isCartPage()&&scaspAddRemoveStorePickupProductWhenClickTab&&addPickupRateProduct(),disabledCheckoutButton(!1,t);let e=t(".sca-storepickup-loading");e.length>0&&i()&&(e.css("display","block"),t("#sca-storepickup-container").css("opacity","0.5")),t("#sca-storepickup-desc p, #date-delivery, .scasp-delivery-success, .scasp-error-msg, .scasp-delivery-no-validate").hide(),t(".sca-storepickup-pickup-not-valid").remove(),t(".sca-storepickup-delivery-not-valid").remove(),t("#sca-storepickup-methods li").removeClass("active"),t(".sca-storepickup-pickup-desc, .bh-sl-container").show(),t(".sca-storepickup-pickup-tab").addClass("active"),t("#date-pickup, #bh-sl-address").val(""),U(t),1==SCASPSetting.sg_search_box?t("#bh-sl-address, #scasp-geocode-btn").show():t("#bh-sl-address, #scasp-geocode-btn").hide(),void 0!==jQuerySCASP.fn.storePickup&&void 0!==SCASPSetting.storePickup?SCASPSetting.hasOwnProperty("sp_inventory_type")?1==SCASPSetting.sp_inventory_type?r(t)&&(SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.sortData(u()),SCASPSetting.storePickup.mapReload()):2==SCASPSetting.sp_inventory_type?c(t)&&(SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.sortData(u()),SCASPSetting.storePickup.mapReload()):locationRestrictByPostalCode()&&i()&&(SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.sortData(u()),SCASPSetting.storePickup.mapReload()):r(t)&&(SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.sortData(u()),SCASPSetting.storePickup.mapReload()):F(t),t(".bh-sl-map, .bh-sl-loc-list, .bh-sl-pagination-container").show(),i()||t(".bh-sl-map").hide(),t(".scasp-list-container").first().trigger("click"),t(".new-for-mobile").length>0&&g(t),i()||t(".bh-sl-form-container").hide(),i()||t("#sca-storepickup-desc").show(),i()||N(!1)}),jQuerySCASP(document).on("click",".location_id",function(){var e=jQuerySCASP(this);setTimeout(function(){e.closest(".scasp-list-container").trigger("click")},10)});var o=null;datepicker=t(document).find("#scasp-date").pickadate({monthsFull:j,monthsShort:I,weekdaysFull:x,weekdaysShort:O,format:"dddd, dd mmm, yyyy",formatSubmit:SCASPSetting.sg_datetime_format,hiddenPrefix:"scasp-date",today:"",clear:"",close:"",min:!0,onOpen:function(){o=null;var e=t(".list-focus").find(".location_id").val();SCASPLocationsData||i()||l(t);var s=SCASPLocationsData[P[e]];this.set("enable",!0);let n=new Date,r=((new Date).getTime(),[]);if(a(s)){let e=new Date,t=e.getHours(),i=e.getMinutes(),a=s.time_cut_off,o=a.split(":")[0],r=a.split(":")[1];(parseInt(t)>parseInt(o)||parseInt(t)==parseInt(o)&&parseInt(i)>parseInt(r))&&(n=new Date((new Date).getTime()+24*s.day_cut_off_after*36e5),this.set("min",n))}var c=s.opening_hours,p=[];for(var u in c)if(c.hasOwnProperty(u)){var d=c[u];"0"==d.status&&(p.push(parseInt(u)),r.push(parseInt(u)))}SCASPSetting.sg_enable_pickup;c=s.opening_hours;var S=new Date,g=c[Object.keys(c)[S.getDay()]],m=g.to.split(":");if(parseInt(M(S.getHours())+""+M(S.getMinutes()))>parseInt(M(m[0])+""+M(m[1]))&&r.push(new Date(S.getFullYear(),S.getMonth(),S.getDate())),g.hasOwnProperty("max_day")&&0!=s.enable_max_datetime_picker){var h=0;if("0"!=g.max_day&&""!=g.max_day&&(h+=24*parseInt(g.max_day)*60*60*1e3),"0"!=g.max_hour&&""!=g.max_hour&&(h+=60*parseInt(g.max_hour)*60*1e3),"0"!=g.max_minute&&""!=g.max_minute&&(h+=60*parseInt(g.max_minute)*1e3),h>0){var _=new Date((new Date).getTime()+h),y=_.getHours()+":"+_.getMinutes(),k=c[Object.keys(c)[_.getDay()]],f=y.split(":"),v=k.to.split(":");parseInt(M(f[0])+M(f[1])),parseInt(M(v[0])+M(v[1]));let e=k.from.split(":");parseInt(100*e[0])+parseInt(e[1])<parseInt(100*_.getHours())+parseInt(_.getMinutes())||_.setDate(_.getDate()-1);var C=new Date(_.getFullYear(),_.getMonth(),_.getDate());this.set("max",C)}}for(var A=1;A<8;A++)if((c[A].hasOwnProperty("wait_day")||c[A].hasOwnProperty("max_day"))&&0!=c[A].status){g=c[A];var b=new Date,w=A-(S.getDay()+1);if(b.setDate(S.getDate()+w),g.hasOwnProperty("wait_day")){var D=0,j=0;"0"!=g.wait_day&&""!=g.wait_day&&(j+=24*parseInt(g.wait_day)*60*60*1e3),g.hasOwnProperty("wait_hour")&&"0"!=g.wait_hour&&""!=g.wait_hour&&(j+=60*parseInt(g.wait_hour)*60*1e3),g.hasOwnProperty("wait_minute")&&"0"!=g.wait_minute&&""!=g.wait_minute&&(j+=60*parseInt(g.wait_minute)*1e3),D=j/24/60/60/1e3,o=new Date((new Date).getTime()+j);var I=o.getHours()+":"+o.getMinutes(),x=c[Object.keys(c)[o.getDay()]],O=I.split(":"),L=x.to.split(":");parseInt(M(O[0])+M(O[1]))>parseInt(M(L[0])+M(L[1]))&&(o=new Date(o.getTime()+864e5));var T=new Date(o.getFullYear(),o.getMonth(),o.getDate());if(0!=D){D=parseInt(D);var Q=new Date(b.getTime()),B=0;B=D%7==0?D/7:D/7+1;for(var R=0;R<=B;R++)Q=new Date(b.getTime()+7*R*24*3600*1e3),Q.getTime()<=T.getTime()&&r.push(new Date(Q.getFullYear(),Q.getMonth(),Q.getDate()))}}}if(s.hasOwnProperty("blackout_dates")){var F=s.blackout_dates;for(var q in F)if(F.hasOwnProperty(q)){var z=F[q].split("-");r.push(new Date(parseInt(z[0]),parseInt(z[1])-1,parseInt(z[2])))}}r.length&&this.set("disable",r)},onSet:function(a){if("select"in a){var s=t(".list-focus").find(".location_id").val();SCASPLocationsData||i()||l(t);var n=SCASPLocationsData[P[s]];if(!n.enable_time_picker)return setTimeout(function(){if(m.off("focus").val(datepicker.get()).focus().on("focus",datepicker.open),S()&&t(".new-for-mobile").length>0){let e=t(".scasp-selected .scasp-selected-content");e.find("div.scasp-selected-time").remove(),e.append('<div class="scasp-selected-time">Pickup at: '+datepicker.get()+"</div>")}processPickupData(t)},0),!1;var r=n.opening_hours,c=datepicker.get("highlight"),p=r[Object.keys(r)[c.day]],u=p.from.split(":"),d=p.to.split(":"),g=new Date(datepicker.get("highlight").obj),h=0;if(p.hasOwnProperty("wait_day")&&"0"!=p.wait_day&&""!=p.wait_day&&(h+=24*parseInt(p.wait_day)*60*60*1e3),p.hasOwnProperty("wait_hour")&&"0"!=p.wait_hour&&""!=p.wait_hour&&(h+=60*parseInt(p.wait_hour)*60*1e3),p.hasOwnProperty("wait_minute")&&"0"!=p.wait_minute&&""!=p.wait_minute&&(h+=60*parseInt(p.wait_minute)*1e3),0!==h){if(o=new Date((new Date).getTime()+h),o.getFullYear()==g.getFullYear()&&o.getMonth()==g.getMonth()&&o.getDate()==g.getDate()){var _=parseInt(M(o.getHours())+""+M(o.getMinutes())),y=p.from.split(":"),k=p.to.split(":");_>parseInt(M(y[0])+M(y[1]))&&_<parseInt(M(k[0])+M(k[1]))&&(u=e(parseInt(o.getHours()),parseInt(o.getMinutes()),parseInt(n.time_picker_slot)))}}else{var f=new Date,v=f.getHours(),C=f.getMinutes();f.getFullYear()==g.getFullYear()&&f.getMonth()==g.getMonth()&&f.getDate()==g.getDate()&&parseInt(u[0]+u[1])<parseInt(v+""+C)&&(u=e(parseInt(v),parseInt(C),parseInt(n.time_picker_slot)))}f=new Date;var A=r[Object.keys(r)[f.getDay()]];if(p.hasOwnProperty("max_day")&&0!=n.enable_max_datetime_picker){var b=0;if(A.hasOwnProperty("max_day")&&"0"!=A.max_day&&""!=A.max_day&&(b+=24*parseInt(A.max_day)*60*60*1e3),A.hasOwnProperty("max_hour")&&"0"!=A.max_hour&&""!=A.max_hour&&(b+=60*parseInt(A.max_hour)*60*1e3),A.hasOwnProperty("max_minute")&&"0"!=A.max_minute&&""!=A.max_minute&&(b+=60*parseInt(A.max_minute)*1e3),0!==b){var w=new Date((new Date).getTime()+b);if(w.getFullYear()==g.getFullYear()&&w.getMonth()==g.getMonth()&&w.getDate()==g.getDate()){var D=parseInt(M(w.getHours())+""+M(w.getMinutes())),j=p.from.split(":"),I=p.to.split(":")
;D>parseInt(M(j[0])+M(j[1]))&&D<parseInt(M(I[0])+M(I[1]))&&(d=e(parseInt(w.getHours()),parseInt(w.getMinutes()),parseInt(n.time_picker_slot)))}}}setTimeout(function(){if(timepicker.set("disable",!1),p.hasOwnProperty("break_from")&&p.hasOwnProperty("break_to")&&"0"!=p.break_from&&"0"!=p.break_to){var e=p.break_from.split(":"),t=p.break_to.split(":");timepicker.set("disable",[{from:[parseInt(e[0]),parseInt(e[1])],to:[parseInt(t[0]),parseInt(t[1])]}])}if(p.hasOwnProperty("break_slot"))for(var i in p.break_slot)if(p.break_slot.hasOwnProperty(i)){var a=p.break_slot[i].break_from.split(":"),s=p.break_slot[i].break_to.split(":");timepicker.set("disable",[{from:[parseInt(a[0]),parseInt(a[1])],to:[parseInt(s[0]),parseInt(s[1])]}])}timepicker.set("interval",n.time_picker_slot),timepicker.set("min",B(u)),timepicker.set("max",B(d)),timepicker.open()},0)}}}).pickadate("picker");var d="h:i A";0==SCASPSetting.sg_time_format&&(d="HH:i"),timepicker=t(document).find("#scasp-time").pickatime({clear:"",format:d,onSet:function(e){if("select"in e){let e=parseInt(t(".list-focus").find(".location_id").val()),i=SCASPLocationsData[P[e]];if(1==i.enable_limit_pickup_slot){let e={day:datepicker.get("select","dd"),month:datepicker.get("select","mm"),year:datepicker.get("select","yyyy"),hour:timepicker.get("select","H"),minute:timepicker.get("select","i")};disabledCheckoutButton(!0,t),checkAvailableTimeSlot("pickup",e,t)}setTimeout(function(){if(m.off("focus").val(datepicker.get()+" "+timepicker.get()).focus().on("focus",datepicker.open),S()&&t(".new-for-mobile").length>0){let e=t(".scasp-selected .scasp-selected-content");e.find("div.scasp-selected-time").remove(),e.append('<div class="scasp-selected-time">Pickup at: '+datepicker.get()+" "+timepicker.get()+"</div>")}processPickupData(t)},0)}}}).pickatime("picker");var m=t("#date-pickup").on("focus",datepicker.open).on("click",function(e){e.stopPropagation(),datepicker.open()})}if(SCASPSetting.sg_enable_delivery&&!f){var h=null,_={},C=!1;SCASPDeliveryDatePicker=t(document).find("#scasp-delivery-date").pickadate({monthsFull:j,monthsShort:I,weekdaysFull:x,weekdaysShort:O,format:"dddd, dd mmm, yyyy",formatSubmit:SCASPSetting.sg_datetime_format,hiddenPrefix:"scasp-delivery-date",today:"",clear:"",close:"",min:!0,onOpen:function(){h=null;var e=t(".location_id").first().val();SCASPLocationsData||i()||l(t);var a=SCASPLocationsData[P[e]];this.set("enable",!0);let n=[];if(s(a)){let e=new Date,t=e.getHours(),i=e.getMinutes(),s=a.time_cut_off_delivery,n=s.split(":")[0],o=s.split(":")[1];(parseInt(t)>parseInt(n)||parseInt(t)==parseInt(n)&&parseInt(i)>parseInt(o))&&this.set("min",a.day_cut_off_after_delivery)}var o=a.delivery_hours;let r=[];for(var c in o)if(o.hasOwnProperty(c)){var p=o[c];"0"==p.status&&(r.push(parseInt(c)),n.push(parseInt(c)),0)}o=a.delivery_hours;var u=new Date,d=o[Object.keys(o)[u.getDay()]];if(d.hasOwnProperty("slot")&&Object.size(d.slot)>0){var S=d.slot[Object.size(d.slot)-1].to.split(":");parseInt(M(u.getHours())+""+M(u.getMinutes()))>parseInt(M(S[0])+""+M(S[1]))&&n.push(new Date(u.getFullYear(),u.getMonth(),u.getDate()))}if(d.hasOwnProperty("max_day")&&0!=a.delivery_enable_max_datetime_picker){var g=0;if("0"!=d.max_day&&""!=d.max_day&&(g+=24*parseInt(d.max_day)*60*60*1e3),d.hasOwnProperty("max_hour")&&"0"!=d.max_hour&&""!=d.max_hour&&(g+=60*parseInt(d.max_hour)*60*1e3),d.hasOwnProperty("max_minute")&&"0"!=d.max_minute&&""!=d.max_minute&&(g+=60*parseInt(d.max_minute)*1e3),g>0){var m=new Date((new Date).getTime()+g),_=m.getHours()+":"+m.getMinutes(),y=o[Object.keys(o)[m.getDay()]],k=_.split(":"),f=0;if(y.hasOwnProperty("slot")&&a.delivery_enable_time_picker)for(var v=0;v<Object.keys(y.slot).length;v++){var C=y.slot[v].to.split(":");parseInt(M(C[0])+M(C[1]))>f&&(f=parseInt(M(C[0])+M(C[1])))}if(parseInt(M(k[0])+M(k[1])),y.hasOwnProperty("slot")){let e=y.slot;"object"==typeof e&&(e=Object.keys(e).map(t=>e[t])),e=e.filter(e=>{let t=!1,i=e.from,a=i.split(":")[0],s=i.split(":")[1];return t=parseInt(100*a)+parseInt(s)<parseInt(100*k[0])+parseInt(k[1]),t}),e.length>0||m.setDate(m.getDate()-1)}var A=new Date(m.getFullYear(),m.getMonth(),m.getDate());this.set("max",A)}}for(var b=1;b<8;b++)if(o[b].hasOwnProperty("wait_day")&&0!=o[b].status){d=o[b];var w=new Date,j=b-(u.getDay()+1);w.setDate(u.getDate()+j);var I=0,x=0;"0"!=d.wait_day&&""!=d.wait_day&&(x+=24*parseInt(d.wait_day)*60*60*1e3),d.hasOwnProperty("wait_hour")&&"0"!=d.wait_hour&&""!=d.wait_hour&&(x+=60*parseInt(d.wait_hour)*60*1e3),d.hasOwnProperty("wait_minute")&&"0"!=d.wait_minute&&""!=d.wait_minute&&(x+=60*parseInt(d.wait_minute)*1e3),I=x/24/60/60/1e3,h=new Date((new Date).getTime()+x);var O=h.getHours()+":"+h.getMinutes(),L=o[Object.keys(o)[h.getDay()]],T=O.split(":"),Q=0;if(L.hasOwnProperty("slot")&&a.delivery_enable_time_picker)for(var B=0;B<Object.keys(L.slot).length;B++){var R=L.slot[B].to.split(":");parseInt(M(R[0])+M(R[1]))>Q&&(Q=parseInt(M(R[0])+M(R[1])))}parseInt(M(T[0])+M(T[1]))>Q&&Q>0&&(h=new Date(h.getTime()+864e5));var F=new Date(h.getFullYear(),h.getMonth(),h.getDate());if("0"!=I&&""!=I){I=parseInt(I);var q=new Date(w.getTime()),z=0;z=I%7==0?I/7:I/7+1;for(var N=0;N<=z;N++)q=new Date(w.getTime()+7*N*24*3600*1e3),q.getTime()<F.getTime()&&n.push(new Date(q.getFullYear(),q.getMonth(),q.getDate()))}}if(a.hasOwnProperty("blackout_dates")){var U=a.blackout_dates;for(var E in U)if(U.hasOwnProperty(E)){var H=U[E].split("-");n.push(new Date(parseInt(H[0]),parseInt(H[1])-1,parseInt(H[2])))}}testMode&&D.log(n),n.length&&this.set("disable",n)},onSet:function(a){if("select"in a){var s=t(".location_id").first().val();SCASPLocationsData||i()||l(t);var n=SCASPLocationsData[P[s]];if(!n.delivery_enable_time_picker)return setTimeout(function(){A.off("focus").val(SCASPDeliveryDatePicker.get()).focus().on("focus",SCASPDeliveryDatePicker.open),processPickupData(t)},0),!1;C=!0;var o=[],r=[],c=n.delivery_hours,p=SCASPDeliveryDatePicker.get("highlight");_=c[Object.keys(c)[p.day]];var u="24:00",d=new Date(SCASPDeliveryDatePicker.get("highlight").obj);if(!_.hasOwnProperty("slot"))return setTimeout(function(){A.off("focus").val(SCASPDeliveryDatePicker.get()).focus().on("focus",SCASPDeliveryDatePicker.open),processPickupData(t),t('input[name="attributes[Delivery-Time]"]').val("")},0),!1;var S=new Date,g=c[Object.keys(c)[S.getDay()]];if(g.hasOwnProperty("max_day")){var m=0;if(0!=n.enable_max_datetime_picker){var h=0;if("0"!=g.max_day&&""!=g.max_day&&(h+=24*parseInt(g.max_day)*60*60*1e3),g.hasOwnProperty("max_hour")&&"0"!=g.max_hour&&""!=g.max_hour&&(h+=60*parseInt(g.max_hour)*60*1e3),g.hasOwnProperty("max_minute")&&"0"!=g.max_minute&&""!=g.max_minute&&(h+=60*parseInt(g.max_minute)*1e3),void 0!==h&&0!==h){var y=new Date((new Date).getTime()+h);if(y.getFullYear()==d.getFullYear()&&y.getMonth()==d.getMonth()&&y.getDate()==d.getDate())var k=parseInt(M(y.getHours())+""+M(y.getMinutes()))}}}for(var f=0;f<Object.keys(_.slot).length;f++){var v=u.split(":"),b=_.slot[f].from.split(":");parseInt(M(b[0])+""+M(b[1]))<parseInt(M(v[0])+""+M(v[1]))&&(void 0!==h&&0!==h&&void 0!==k&&parseInt(M(b[0])+""+M(b[1]))<parseInt(M(y.getHours())+""+M(y.getMinutes()))&&(m=_.slot[f].from),u=_.slot[f].from),o.push([_.slot[f].from.split(":"),_.slot[f].to.split(":")]),r.push(_.slot[f].from.split(":"))}var w=u.split(":"),D=0;if(_.hasOwnProperty("wait_day")&&"0"!=_.wait_day&&""!=_.wait_day&&(D+=24*parseInt(_.wait_day)*60*60*1e3),_.hasOwnProperty("wait_hour")&&"0"!=_.wait_hour&&""!=_.wait_hour&&(D+=60*parseInt(_.wait_hour)*60*1e3),_.hasOwnProperty("wait_minute")&&"0"!=_.wait_minute&&""!=_.wait_minute&&(D+=60*parseInt(_.wait_minute)*1e3),0!==D){var j=new Date((new Date).getTime()+D);if(j.getFullYear()==d.getFullYear()&&j.getMonth()==d.getMonth()&&j.getDate()==d.getDate()){var I=parseInt(M(j.getHours())+""+M(j.getMinutes()));if(I>parseInt(M(w[0])+""+M(w[1]))){for(var x=0,O=[],L=0;L<o.length;L++){if(parseInt(o[L][0][0]+""+o[L][0][1])<I&&I<parseInt(o[L][1][0]+""+o[L][1][1])){w=e(parseInt(o[L][0][0]),parseInt(o[L][0][1]),15),x++;break}I<parseInt(o[L][0][0]+""+o[L][0][1])&&0==O.length&&(O=e(parseInt(o[L][0][0]),parseInt(o[L][0][1]),15))}0==x&&(w=O)}}}else{S=new Date;var T=S.getHours(),Q=S.getMinutes();if(S.getFullYear()==d.getFullYear()&&S.getMonth()==d.getMonth()&&S.getDate()==d.getDate()){w=e(parseInt(T),parseInt(Q),15);for(var B=parseInt(M(w[0])+""+M(w[1])),R=(x=0,O=[],0);R<Object.keys(_.slot).length;R++){var F=_.slot[R].from.split(":"),q=_.slot[R].to.split(":");if(parseInt(M(F[0])+""+M(F[1]))<B&&B<parseInt(M(q[0])+""+M(q[1]))){w=e(parseInt(F[0]),parseInt(F[1]),15),x++;break}B<parseInt(M(F[0])+""+M(F[1]))&&0==O.length&&(O=e(parseInt(F[0]),parseInt(F[1]),15))}0==x&&(w=O)}}setTimeout(function(){!i()&&SCASPDeliveryTimePicker,SCASPDeliveryTimePicker.set("disable",!0),SCASPDeliveryTimePicker.set("disable",r),SCASPDeliveryTimePicker.set("min",w),0!==m?SCASPDeliveryTimePicker.set("max",m.split(":")):SCASPDeliveryTimePicker.set("max",!1),SCASPDeliveryTimePicker.open()},0)}},onClose:function(){let e=parseInt(t(".location_id").first().val()),i=SCASPLocationsData[P[e]];i.enable_limit_delivery_slot&&(disabledCheckoutButton(!0,t),checkAvailableTimeSlot("delivery",{day:SCASPDeliveryDatePicker.get("select","dd"),month:SCASPDeliveryDatePicker.get("select","mm"),year:SCASPDeliveryDatePicker.get("select","yyyy"),time:null},t))}}).pickadate("picker");d="h:i A";0==SCASPSetting.sg_time_format&&(d="HH:i"),SCASPDeliveryTimePicker=t(document).find("#scasp-delivery-time").pickatime({clear:"",interval:15,format:d,formatLabel:function(e){if(C&&_.hasOwnProperty("slot"))for(var t=0;t<Object.keys(_.slot).length;t++){var i=_.slot[t].from.split(":");if(e.hour==parseInt(i[0])&&e.mins==parseInt(i[1])){var a=_.slot[t].to.split(":");return 1==SCASPSetting.sg_time_format?"h:i A - "+Q(parseInt(a[0]),parseInt(a[1])):"HH:i - "+a[0]+":"+a[1]}}return""},onSet:function(e){"select"in e&&setTimeout(function(){C=!1;var e=t("#scasp-delivery-time_root .picker__list-item--selected").html();A.off("focus").val(SCASPDeliveryDatePicker.get()+" "+SCASPSetting.st_delivery_between_text+" "+e.replace("-",SCASPSetting.st_delivery_and_text)).focus().on("focus",SCASPDeliveryDatePicker.open),processPickupData(t)},0)}}).pickatime("picker");var A=t("#date-delivery").on("focus",SCASPDeliveryDatePicker.open).on("click",function(e){e.stopPropagation(),SCASPDeliveryDatePicker.open()});t(".sca-storepickup-delivery-tab").on("click",function(){i()||N(!0),usePickupRateProduct()&&isCartPage()&&scaspAddRemoveStorePickupProductWhenClickTab&&removePickupRateProduct(),i()||p(t),disabledCheckoutButton(!1,t);let e=t(".sca-storepickup-loading");e.length>0&&i()&&(e.css("display","block"),t("#sca-storepickup-container").css("opacity","0.5")),t(".bh-sp-filters-container").remove(),t("#sca-storepickup-desc p, .scasp-error-msg, .scasp-selected, #scasp-tabs, .scasp-delivery-validate").hide(),t("#sca-storepickup-methods li").removeClass("active"),t(".bh-sl-container").show(),t(".sca-storepickup-delivery-tab").addClass("active"),t("#date-delivery").hide(),t("#date-delivery").val(""),locationRestrictByDistance()&&(t("#bh-sl-address").val(""),t("p.sca-storepickup-delivery-desc").show()),i()||t("p.sca-storepickup-delivery-desc").hide(),t(".sca-storepickup-pickup-not-valid").remove(),t(".sca-storepickup-delivery-not-valid").remove(),U(t),enableInventoryDelivery()&&SCASPSetting.hasOwnProperty("sp_inventory_type")&&(1==SCASPSetting.sp_inventory_type?r(t):2==SCASPSetting.sp_inventory_type?c(t):SCASPSetting.sp_inventory_type),void 0!==jQuerySCASP.fn.storePickup&&void 0!==SCASPSetting.storePickup&&i()?(SCASPSetting.storePickup.reset(),SCASPSetting.storePickup.sortData(u(!0)),SCASPSetting.storePickup.mapReload()):F(t),t(SCASPSetting.sg_cart_form_selector).prop("action",z(v)),i()||(t(".bh-sl-loc-list").hide(),t(".scasp-list-container").first().trigger("click")),i()||N(!1)})}(SCASPSetting.sg_enable_pickup&&!y||SCASPSetting.sg_enable_delivery&&!f)&&t(document).on("click",".scasp-list-container",function(){i()||(t("#date-pickup").val(""),t('input[name="scasp-date_submit"]').val(""),t("li.scasp-list-container").removeClass("list-focus"),t(this).addClass("list-focus"),t(this).find(".location_id").prop("checked",!0)),t("#sca-storepickup-container .picker").removeClass("picker--focused picker--opened"),t(".scasp-store-required").hide();var e=t(this).find(".location_id").val();SCASPLocationsData||i()||l(t);var a=SCASPLocationsData[P[e]];if(i()){if(!a.enable_date_picker)return t("#date-pickup").hide(),t(".scasp-datetime-required").hide(),processPickupData(t,e),!1;R(t)||t("#date-pickup").show()}else if(!storepickup_noapi_params.deliveryTabOpened(jQuerySCASP)){if(!a.enable_date_picker)return t("#date-pickup").hide(),t(".scasp-datetime-required").hide(),processPickupData(t,e),!1;R(t)||t("#date-pickup").show()}if(i()||storepickup_noapi_params.deliveryTabOpened(jQuerySCASP)&&(t("#date-pickup").hide(),a.delivery_enable_date_picker?(t("#date-pickup").hide(),t(".sca-storepickup-delivery-not-valid").length>0?(t(".scasp-delivery-no-validate").hide(),t("#date-delivery").hide()):(t(".scasp-delivery-no-validate").show(),t("#date-delivery").show()),processPickupData(t,e)):(t(".scasp-delivery-no-validate").hide(),t("#date-delivery").hide())),i()||processPickupData(t,e),SCASPSetting.sg_enable_delivery&&!f&&!i()&&SCASPDeliveryDatePicker,i()||t("button.scasp-view-map-btn").hide(),!i()&&storepickup_noapi_params.deliveryTabOpened(jQuerySCASP)){var s=a.delivery_hours;let e=0,i=[];for(var n in s)if(s.hasOwnProperty(n)){var o=s[n];"0"==o.status&&(i.push(parseInt(n)),e++)}SCASPDeliveryDatePicker,e<7||7==e&&(t(".scasp-delivery-success").hide(),t(".scasp-delivery-validate").show(),t("#date-delivery").hide())}});var b=[];if(!SCASPSetting.sg_enable_shipping||k?(t(".sca-storepickup-shipping-tab").hide(),t(".sca-storepickup-shipping-desc").hide()):b.push("shipping"),!SCASPSetting.sg_enable_pickup||y||"delivery"==SCASPSetting.version?t(".sca-storepickup-pickup-tab").hide():b.push("pickup"),!SCASPSetting.sg_enable_delivery||f||"pickup"==SCASPSetting.version?t(".sca-storepickup-delivery-tab").hide():b.push("delivery"),1==b.length)switch(t("ul#sca-storepickup-methods").hide(),b[0]){case"shipping":t(".sca-storepickup-shipping-desc").hide(),t(".sca-storepickup-shipping-tab").trigger("click");break;case"pickup":t("#sca-storepickup-container").prepend("<h3>"+SCASPSetting.st_store_pickup_tab+"</h3>"),i()||t("#bh-sl-map").hide(),t(".sca-storepickup-pickup-tab").trigger("click");break;case"delivery":t("#sca-storepickup-container").prepend("<h3>"+SCASPSetting.st_local_delivery_tab+"</h3>"),t(".sca-storepickup-delivery-tab").trigger("click");break;default:t(".sca-storepickup-shipping-desc").hide()}else 2==b.length?-1==t.inArray("shipping",b)?"undefined"!=typeof SCASPActiveStorePickupTab&&1==SCASPActiveStorePickupTab?t(".sca-storepickup-pickup-tab").trigger("click"):t(".sca-storepickup-delivery-tab").trigger("click"):t(".sca-storepickup-shipping-tab").trigger("click"):3==b.length&&(-1==t.inArray("shipping",b)?"undefined"!=typeof SCASPActiveStorePickupTab&&1==SCASPActiveStorePickupTab?t(".sca-storepickup-pickup-tab").trigger("click"):t(".sca-storepickup-delivery-tab").trigger("click"):t(".sca-storepickup-shipping-tab").trigger("click"));t(document).on("click",'button[name="checkout"], input[name="checkout"]',function(e){var i=SCASPSetting.processCheckout(t,e);if(0==i)return e.stopImmediatePropagation(),!1});try{t(".scasp-initbm").length>0&&0==t(".scasp-brankmark").length&&!y&&SCASPSetting.sg_enable_pickup&&(t('<div id="scasp-brankmark" class="scasp-brankmark" style="position: static !important;bottom: -50px;left:45%;background: #979595!important;display:block !important;font-family:sans-serif;font-size:13px;text-align:center;box-sizing:border-box;"><a onclick="window.open(\'http://secomapp.com/?utm_channel=referral&amp;utm_medium=storepickup&amp;utm_campaign=spreferral\', \'_blank\')" href="http://secomapp.com/?utm_channel=referral&amp;utm_medium=storepickup&amp;utm_campaign=spreferral" style="color:white!important;">Powered by <span style="color:#006eff!important;text-decoration: underline;">Secomapp</span></a> </div>').insertBefore("#sca-storepickup-desc"),t(".scasp-brankmark a").click(function(e){e.preventDefault()}))}catch(e){}if("function"==typeof scaStorePickupCallback)try{scaStorePickupCallback()}catch(e){testMode&&D.log("Callback Error!"),testMode&&D.log(e)}}function h(e){testMode&&D.log("loadPickupLib"),locationRestrictByPostalCode()&&(testMode&&D.log("load render fiter zipcode"),void 0===jQuerySCASP.fn.scasp_render_zipcode_filter&&L("//cdn.secomapp.com/storepickup/assets/cdn/js/jquery.scasp_zipcode_filter.js",function(){e(document).ready(function(){testMode&&D.log("load zipcode filter render cdn"),e("#bh-sl-map-container, .bh-sl-map-container").scasp_render_zipcode_filter(jQuerySCASP,SCASPSetting)})})),void 0!==jQuerySCASP.fn.storePickup||jQuerySCASP.scaslpluginLoaded,i()&&void 0!==google.maps?L("//cdn.secomapp.com/storepickup/assets/cdn/js/jquery.storepickup.js",function(){testMode&&D.log("Loaded Pickup plugin."),e(document).ready(function(){m(jQuerySCASP)})}):L("//cdn.secomapp.com/storepickup/assets/cdn/js/jquery.storepickup.js",function(){testMode&&D.log("Loaded Pickup lib without api"),e(document).ready(function(){L("//cdn.secomapp.com/storepickup/assets/cdn/js/jquery.storepickup.noapi.js",function(){e(document).ready(function(){testMode&&D.log("load plugin without api key"),m(jQuerySCASP)})},{},!0)})},{},!0)}if(!useGeneralScriptCdn&&SCASPSetting.sg_enable_app){SCASPSetting.sg_pickup_position||(SCASPSetting.sg_pickup_position='button[name="checkout"]:visible, input[name="checkout"]:visible');for(var _,P=SCASPSetting.searchLocation,y=!1,k=!1,f=!1,v="en",C=!0,A=function(){},b=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],w=b.length,D=window.console=window.console||{};w--;)_=b[w],D[_]||(D[_]=A);var j=["January","February","March","April","May","June","July","August","September","October","November","December"],I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],x=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],O=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"];void 0!==SCASPSetting.st_months_full&&null!=SCASPSetting.st_months_full&&(j=[SCASPSetting.st_months_full.january,SCASPSetting.st_months_full.february,SCASPSetting.st_months_full.march,SCASPSetting.st_months_full.april,SCASPSetting.st_months_full.may,SCASPSetting.st_months_full.june,SCASPSetting.st_months_full.july,SCASPSetting.st_months_full.august,SCASPSetting.st_months_full.september,SCASPSetting.st_months_full.october,SCASPSetting.st_months_full.november,SCASPSetting.st_months_full.december]),void 0!==SCASPSetting.st_months_short&&null!=SCASPSetting.st_months_short&&(I=[SCASPSetting.st_months_short.january,SCASPSetting.st_months_short.february,SCASPSetting.st_months_short.march,SCASPSetting.st_months_short.april,SCASPSetting.st_months_short.may,SCASPSetting.st_months_short.june,SCASPSetting.st_months_short.july,SCASPSetting.st_months_short.august,SCASPSetting.st_months_short.september,SCASPSetting.st_months_short.october,SCASPSetting.st_months_short.november,SCASPSetting.st_months_short.december]),void 0!==SCASPSetting.st_days_full&&null!=SCASPSetting.st_days_full&&(x=[SCASPSetting.st_days_full.sunday,SCASPSetting.st_days_full.monday,SCASPSetting.st_days_full.tuesday,SCASPSetting.st_days_full.wednesday,SCASPSetting.st_days_full.thursday,SCASPSetting.st_days_full.friday,SCASPSetting.st_days_full.saturday]),void 0!==SCASPSetting.st_days_short&&null!=SCASPSetting.st_days_short&&(O=[SCASPSetting.st_days_short.sunday,SCASPSetting.st_days_short.monday,SCASPSetting.st_days_short.tuesday,SCASPSetting.st_days_short.wednesday,SCASPSetting.st_days_short.thursday,SCASPSetting.st_days_short.friday,SCASPSetting.st_days_short.saturday]);var L=function(e,t,i={},a=!1){if({},a){let i=[...document.querySelectorAll("script")],a=i.filter(t=>t.src.includes(e));if(a.length>=1)return isCartPage()||t(),!1}var s=document.createElement("script");s.type="text/javascript",s.readyState?s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(s.onreadystatechange=null,t())}:s.onload=function(){t()},s.src=e,document.getElementsByTagName("head")[0].appendChild(s)},T=function(e,t){if("js"==t){var i=document.createElement("script");i.setAttribute("type","text/javascript"),i.setAttribute("src",e)}else if("css"==t){i=document.createElement("link");i.setAttribute("rel","stylesheet"),i.setAttribute("type","text/css"),i.setAttribute("href",e)}void 0!==i&&document.getElementsByTagName("head")[0].appendChild(i)},M=function(e){return parseInt(e)<10?"0"+parseInt(e):e},Q=function(e,t){var i=e>=12?"PM":"A";return e%=12,e=e||12,t=t<10?"0"+t:t,e+":"+t+" "+i},B=function(e){e=e.join(":");var t=/([01]?\d)(:\d{2}) (AM|PM)/g,i=t.exec(e);return null!=i?("PM"==i[3]&&(i[1]=parseInt(i[1])+12),e=[i[1],i[2].replace(":","")]):e=e.split(":"),e};Object.size=function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i};var R=function(e){return e(".sca-storepickup-delivery-tab").length>0&&e(".sca-storepickup-delivery-tab").hasClass("active")},F=function(e){e(".sca-storepickup-delivery-tab").length>0&&e(".sca-storepickup-delivery-tab").hasClass("active")?q(e,!0):SCASPSetting.hasOwnProperty("sp_inventory_type")?1==SCASPSetting.sp_inventory_type?r(e)&&q(e):2==SCASPSetting.sp_inventory_type?c(e)&&q(e):0==SCASPSetting.sp_inventory_type&&q(e):r(e)&&q(e)},q=function(e,t=!1){testMode&&D.log("startPlugin"),i()?(e(".bh-sl-form-container").show(),R(e)&&locationRestrictByDistance()):e(".bh-sl-form-container").hide(),i()?(e("#bh-sl-map-container, .bh-sl-map-container").storePickup(d(e,t)),SCASPSetting.storePickup=e("#bh-sl-map-container").data("plugin_storePickup")):(testMode&&D.log("start plugin without api"),e("#bh-sl-map-container, .bh-sl-map-container").storepickup_noapi(d(e),SCASPSetting,e),e("#sca-storepickup-container").css("opacity","1"))},z=function(e){"undefined"!=typeof SCASPLocale&&(v=SCASPLocale,e=SCASPLocale);var t="/cart?step=contact_information",i=!1;if("undefined"!=typeof SCASPCustomer){for(var a=SCASPCustomer.addresses,s=null,n=0;n<a.length;n++)1==a[n].default&&(s=a[n]);null!=s?(i=!0,t+="&checkout[shipping_address][id]="+s.id,t+="&checkout[shipping_address][first_name]="+s.first_name,t+="&checkout[shipping_address][last_name]="+s.last_name,t+="&checkout[shipping_address][company]="+s.company,t+="&checkout[shipping_address][address1]="+s.address1,t+="&checkout[shipping_address][address2]="+s.address2,t+="&checkout[shipping_address][city]="+s.city,t+="&checkout[shipping_address][country]="+s.country,t+="&checkout[shipping_address][zip]="+s.zip,t+="&checkout[shipping_address][province]="+s.province,t+="&checkout[shipping_address][phone]="+s.phone):i=!1}return"undefined"!=typeof SCASPCustomer&&0!=i||(t+="&checkout[shipping_address][company]=",t+="&checkout[shipping_address][address1]=",t+="&checkout[shipping_address][address2]=",t+="&checkout[shipping_address][city]=",t+="&checkout[shipping_address][country]=",t+="&checkout[shipping_address][zip]=",t+="&checkout[shipping_address][province]="),t+="&sca_pickup_text=",t+="&sca_pickup_date=",t+="&sca_hide_address=",t+="&sca_enable_billing=",t+="&locale="+e,E($,"shipping",0),t},N=function(e=!0){return e?jQuerySCASP(".sca-storepickup-loading").show():jQuerySCASP(".sca-storepickup-loading").hide()},U=function(e){e('input[name="attributes[Checkout-Method]"]').val(""),e('input[name="attributes[Pickup-Location-Id]"]').val(""),e('input[name="attributes[Pickup-Date]"]').val(""),e('input[name="attributes[Pickup-Time]"]').val(""),e('input[name="attributes[Pickup-Location-Company]"]').val(""),e('input[name="attributes[Pickup-Location-Address-Line-1]"]').val(""),e('input[name="attributes[Pickup-Location-Address-Line-2]"]').val(""),e('input[name="attributes[Pickup-Location-City]"]').val(""),e('input[name="attributes[Pickup-Location-Region]"]').val(""),e('input[name="attributes[Pickup-Location-Postal-Code]"]').val(""),e('input[name="attributes[Pickup-Location-Country]"]').val(""),e('input[name="attributes[Delivery-Location-Id]"]').val(""),e('input[name="attributes[Delivery-Date]"]').val(""),e('input[name="attributes[Delivery-Time]"]').val("")},E=function(e,t,i){setTimeout(function(){"undefined"!=typeof BOLD&&void 0!==BOLD.customer&&void 0!==BOLD.recurring_orders&&void 0!==BOLD.recurring_orders.app&&void 0!==BOLD.recurring_orders.app.cartWidget&&(0!=i?"pickup"==t?(BOLD.customer.address1=i.address||"",BOLD.customer.address2=i.address2||"",BOLD.customer.city=i.city||"",BOLD.customer.company=i.name||"",BOLD.customer.country=i.country||"",BOLD.customer.province=i.state||"",BOLD.customer.zip=i.postal||"",BOLD.recurring_orders.app.cartWidget.pickupEnabled=!0):"delivery"==t&&(BOLD.customer.address1="",BOLD.customer.address2="",BOLD.customer.city="",BOLD.customer.company="",BOLD.customer.country=i.country||"",BOLD.customer.province=i.province||"",BOLD.customer.zip=i.zip||"",BOLD.recurring_orders.app.cartWidget.pickupEnabled=!1):(BOLD.customer.address1="",BOLD.customer.address2="",BOLD.customer.city="",BOLD.customer.company="",BOLD.customer.country="",BOLD.customer.province="",BOLD.customer.zip="",BOLD.recurring_orders.app.cartWidget.pickupEnabled=!1),BOLD.recurring_orders.app.cartWidget.loadCustomerData())},1e3)};SCASPSetting.getParametersApi=function(){if(null==SCASPLocationsData)return"";var e=SCASPLocationsData,t=jQuerySCASP(".location_id:checked").val();jQuerySCASP(".sca-storepickup-delivery-tab").length>0&&jQuerySCASP(".sca-storepickup-delivery-tab").hasClass("active")&&(t=jQuerySCASP(".location_id").first().val());for(var i=null,a=0;a<e.length;a++)if(e[a].id==t){i=e[a];break}if(null!=i){var s="";return s+=J(jQuerySCASP,s,i,v),s}return""};var H=function(e,t){var i="";0!==t?(i+="/cart?",i=J(e,i,t,v)):i+=z(v),e(SCASPSetting.sg_cart_form_selector).prop("action",i)},J=function(e,t,i,a){if("undefined"!=typeof SCASPLocale&&(v=SCASPLocale,a=SCASPLocale,testMode&&D.log("kien"+a)),testMode&&D.log(a),R(e)){E(e,"delivery",i);let s=generateAutoFillCheckout("delivery");t+="step=contact_information&method=delivery",t+="&checkout[shipping_address][company]=",t+="&checkout[shipping_address][address1]=",t+="&checkout[shipping_address][address2]=",t+="&checkout[shipping_address][city]=",s.country&&(t+="&checkout[shipping_address][country]="+encodeURIComponent(i.country)),s.zipcode&&(t+="&checkout[shipping_address][zip]="+encodeURIComponent(i.postal)),s.province&&(t+="&checkout[shipping_address][province]="+encodeURIComponent(i.state)),a.indexOf("-")>=0?t+="&locale="+a+"SCALD":t+="&locale="+a+"-SCALD"}else{E(e,"pickup",i);let s=generateAutoFillCheckout("pickup");t+="step=contact_information&method=shipping",s.company&&(t+="&checkout[shipping_address][company]="+encodeURIComponent(i.name)),s.address1&&(t+="&checkout[shipping_address][address1]="+encodeURIComponent(i.address)),s.address2&&(t+="&checkout[shipping_address][address2]="+encodeURIComponent(i.address2)),s.city&&(t+="&checkout[shipping_address][city]="+encodeURIComponent(i.city)),s.country&&(t+="&checkout[shipping_address][country]="+encodeURIComponent(i.country)),s.zipcode&&(t+="&checkout[shipping_address][zip]="+encodeURIComponent(i.postal)),s.province&&(t+="&checkout[shipping_address][province]="+encodeURIComponent(i.state)),t+="&sca_pickup_text="+encodeURIComponent(SCASPSetting.st_pickup_text),t+="&sca_pickup_date="+encodeURIComponent(e("#date-pickup").val()),t+="&sca_hide_address="+encodeURIComponent(""+SCASPSetting.sg_hide_address_fields),t+="&sca_enable_billing="+encodeURIComponent(""+SCASPSetting.sg_enable_billing_address),a.indexOf("-")>=0?t+="&locale="+a+"SCASP":t+="&locale="+a+"-SCASP"}return"function"==typeof scaspGetExtendActionUri&&(t=scaspGetExtendActionUri(t)),t};processPickupData=function(e,t){var i=SCASPLocationsData;if(R(e)){void 0===t&&(t=e(".location_id").first().val()),e('input[name="attributes[Checkout-Method]"]').val("delivery"),e('input[name="attributes[Delivery-Date]"]').val(e('input[name="scasp-delivery-date_submit"]').val()),e('input[name="attributes[Delivery-Time]"]').val(e("#scasp-delivery-time_root .picker__list-item--selected").html()),e('input[name="attributes[Delivery-Location-Id]"]').val(t);for(var a=0;a<i.length;a++)if(i[a].id==t){var s=i[a];return H(e,s),!1}}else{void 0===t&&(t=e(".location_id:checked").val());for(var n=0;n<i.length;n++)if(i[n].id==t){var o=i[n];return e('input[name="attributes[Checkout-Method]"]').val("pickup"),e('input[name="attributes[Pickup-Location-Id]"]').val(o.id),e('input[name="attributes[Pickup-Date]"]').val(e('input[name="scasp-date_submit"]').val()),e('input[name="attributes[Pickup-Time]"]').val(e("#scasp-time").val()),e('input[name="attributes[Pickup-Location-Company]"]').val(o.name),e('input[name="attributes[Pickup-Location-Address-Line-1]"]').val(o.address),e('input[name="attributes[Pickup-Location-Address-Line-2]"]').val(o.address2),e('input[name="attributes[Pickup-Location-City]"]').val(o.city),e('input[name="attributes[Pickup-Location-Region]"]').val(o.state),e('input[name="attributes[Pickup-Location-Postal-Code]"]').val(o.postal),e('input[name="attributes[Pickup-Location-Country]"]').val(o.country),H(e,o),!1}}},SCASPSetting.processCheckout=function(e,t){var a=0,s=e(".scasp-datetime-required");if((R(e)||e(".sca-storepickup-shipping-tab.active").length)&&usePickupRateProduct()&&removePickupRateProduct(),R(e)){if(locationRestrictByDistance()){var n=e(".scasp-address-required");""==e("#bh-sl-address").val()&&"none"!=e("#bh-sl-address").css("display")?(n.show(),i()&&a++):n.hide()}""==e("#date-delivery").val()&&"none"!=e("#date-delivery").css("display")?(s.show(),a++):s.hide(),"none"!=e(".scasp-delivery-validate").css("display")&&a++,locationRestrictByDistance()&&"none"==e(".scasp-delivery-success").css("display")&&""!=e("#bh-sl-address").val()&&"none"!=e("#bh-sl-address").css("display")&&(e(".scasp-delivery-validate").show(),a++)}else{var o=e(".scasp-store-required");e(".sca-storepickup-pickup-tab").hasClass("active")&&(e(".location_id").is(":checked")?o.hide():(o.show(),a++)),e(".sca-storepickup-pickup-tab").hasClass("active")&&""==e("#date-pickup").val()&&"none"!=e("#date-pickup").css("display")?(s.show(),a++):s.hide()}if(a>0)return"undefined"!=typeof BOLD&&void 0!==BOLD.recurring_orders&&(BOLD.recurring_orders.app.cartWidget.checkoutEnabled=!1),t.stopImmediatePropagation(),!1;if("undefined"!=typeof BOLD&&void 0!==BOLD.recurring_orders)return BOLD.recurring_orders.app.cartWidget.checkoutEnabled=!0,!0;if(e(".sca-storepickup-pickup-tab").hasClass("active")&&void 0!==SCASPSetting.sp_disable_shipping){if(1==SCASPSetting.sp_disable_shipping){var r=Shopify.shop,c=SCASPSetting.sp_disable_shipping,p=SCASPSetting.sp_enable_deposit,l=SCASPSetting.sp_deposit_amount,u=SCASPSetting.st_total_due,d="",S=null;if(1==SCASPSetting.sp_enable_deposit)var g=SCASPSetting.st_shipping_label;else g=SCASPSetting.st_shipping_title;var m=new Object;return e('input[name*="attributes"]').each(function(){"radio"==e(this).attr("type")?1==e(this).prop("checked")&&(m[e(this).attr("name")]=e(this).val()):""!=e(this).val()&&(m[e(this).attr("name")]=e(this).val())}),null!=window.afDiscountObject&&void 0!==window.afDiscountObject.code&&void 0!==window.afDiscountObject.status&&"200"==window.afDiscountObject.code&&"success"==window.afDiscountObject.status&&(S=window.afDiscountObject.data),e('textarea[name="note"]').length>0&&(d=e('textarea[name="note"]').val()),e.getJSON("/cart.js",function(t){if(!(void 0!==t.items&&t.items.length>0))return!0;e.ajax({url:"https://secomapp.com/storepickup/draftorder",method:"POST",dataType:"JSON",data:{store:r,cart:t,note_attributes:m,disable_shipping:c,enable_deposit:p,deposit_amount:l,deposit_label:g,total_due:u,discount_data:S,order_note:d,parameters:SCASPSetting.getParametersApi()},success:function(t){
if("0"!==t)var i=t,a=!1,s=setInterval(function(){!1===a&&(a=!0,e.ajax({url:i,type:"GET",error:function(e,t,n){404===e.status?a=!1:(clearInterval(s),window.location.href=i,a=!1)},success:function(e){clearInterval(s),window.location.href=i,a=!1}}))},100)}})}),!1}return!usePickupRateProduct()||(addPickupRateProduct(),!0)}},SCASPSetting.handlerScriptNoneApi=function(e){if(!(e(SCASPSetting.sg_pickup_position).length>0))return!1;if(0===e("#sca-storepickup-container").length){var t=e("#scasp-container-template").html(),i=Handlebars.compile(t);e(SCASPSetting.sg_pickup_position).before(i(SCASPSetting))}m(e)},SCASPSetting.handlerScriptApi=function(e){if(testMode&&D.log("handlerScriptApi"),!(e(SCASPSetting.sg_pickup_position).length>0))return!1;var t=e("#scasp-container-template").html(),i=Handlebars.compile(t);e(SCASPSetting.sg_pickup_position).before(i(SCASPSetting)),m(e)},SCASPSetting.initStorePickup=function(e){if(testMode&&D.log("initStorePickup"),!(e(SCASPSetting.sg_pickup_position).length>0&&e("#scasp-container-template").length>0))return!1;var a=scasp_is_installed();if(!a)return!1;if(0===e("#sca-storepickup-container").length){var s=e("#scasp-container-template").html(),n=Handlebars.compile(s);e(SCASPSetting.sg_pickup_position).before(n(SCASPSetting))}testMode&&D.log("loading store pickup plugin..."),T("//cdn.secomapp.com/storepickup/assets/cdn/css/storepickup.css","css"),"undefined"!=typeof google&&void 0!==google.maps||jQuerySCASP.scaslgoogleLoaded||!i()?(testMode&&D.log("unload google map"),jQuerySCASP.scaslgoogleLoaded=!1,h(jQuerySCASP)):(jQuerySCASP.scaslgoogleLoaded=!0,L("//maps.google.com/maps/api/js?key="+t()+"&libraries=places",function(){testMode&&D.log("Loaded google map"),h(jQuerySCASP)}))};var Y=function(e,t){try{var i=e.split("."),a=t.split("."),s=1e8*parseInt(i[0])+1e6*parseInt(i[1])+1e4*parseInt(i[2]),n=1e8*parseInt(a[0])+1e6*parseInt(a[1])+1e4*parseInt(a[2]);return s>n?1:s<n?-1:0}catch(e){testMode&&D.log(e)}return 1};SCASPSetting.checkVersion=Y,C&&("undefined"==typeof jQuery||Y("3.0.0",jQuery.fn.jquery)>0?"undefined"==typeof jQuerySCASP?L("//ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js",function(){testMode&&D.log("finished load jquery..."),jQuerySCASP=jQuery.noConflict(!0),SCASPSetting.initStorePickup(jQuerySCASP)}):SCASPSetting.initStorePickup(jQuerySCASP):(testMode&&D.log("use shop's jquery.."),jQuerySCASP=jQuery,SCASPSetting.initStorePickup(jQuerySCASP)))}}(),function(){function e(){if(SCASPSetting.jqueryIntervalCounter=SCASPSetting.jqueryIntervalCounter-1,SCASPSetting.jqueryIntervalCounter>0&&"undefined"!=typeof jQuerySCASP){try{var e=scasp_is_installed();if(!e)return clearInterval(SCASPSetting.jqueryInterval),!1;jQuerySCASP(document).ajaxComplete(SCASPSetting.doAjaxPickup),"undefined"!=typeof $&&SCASPSetting.checkVersion("3.0.0",jQuery.fn.jquery)>0?$(document).ajaxComplete(SCASPSetting.doAjaxPickup):"undefined"!=typeof jQuery&&SCASPSetting.checkVersion("3.0.0",jQuery.fn.jquery)>0&&jQuery(document).ajaxComplete(SCASPSetting.doAjaxPickup),-1!=Shopify.theme.name.toLowerCase().indexOf("narrative")&&SCASPSetting.doAjaxPickup(null,null,{url:"//secomapp.com/cart.js"}),-1!=Shopify.theme.name.toLowerCase().indexOf("parallax")&&SCASPSetting.doAjaxPickup(null,null,{url:"//secomapp.com/cart.js"}),-1!=Shopify.theme.name.toLowerCase().indexOf("turbo")&&SCASPSetting.doAjaxPickup(null,null,{url:"//secomapp.com/cart.js"}),jQuerySCASP.getScript("//cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js")}catch(e){testMode&&console.log(e)}clearInterval(SCASPSetting.jqueryInterval)}else SCASPSetting.jqueryIntervalCounter<1&&clearInterval(SCASPSetting.jqueryInterval)}SCASPSetting.scasp_ajax_disable||(SCASPSetting.appendPickupTo=function(e){$(e+" .scasp_pickup_position").length<1&&$(e).append('<span class="scasp_pickup_position"></span>'),SCASPSetting.sg_pickup_position=".scasp_pickup_position"},SCASPSetting.getAjaxFormId=function(){var e='form[action*="cart"][action!="/cart/add"][method="post"]';if(-1!=Shopify.theme.name.toLowerCase().indexOf("turbo")&&(SCASPSetting.sg_pickup_position=".cart_container .cart_content .action_button",e='form[action*="checkout"][method="post"]'),-1!=Shopify.theme.name.toLowerCase().indexOf("boundless")&&SCASPSetting.appendPickupTo(".ajaxcart__inner"),-1!=Shopify.theme.name.toLowerCase().indexOf("narrative")&&$(".cart-drawer__footer").css("overflow","auto"),-1!=Shopify.theme.name.toLowerCase().indexOf("brooklyn")&&SCASPSetting.appendPickupTo(".ajaxcart__inner"),-1!=Shopify.theme.name.toLowerCase().indexOf("parallax")&&(e="#cart",$("#cart").attr("action","/cart"),SCASPSetting.sg_pickup_position='#cart input[type="submit"]'),-1!=Shopify.theme.name.toLowerCase().indexOf("turbo")&&(e=".header .top_bar .cart_container .js-cart_content__form",$(e).attr("action","/cart"),SCASPSetting.sg_pickup_position=e+' input[type="submit"]'),"undefined"!=typeof scasp_ajax_callback){var t=scasp_ajax_callback();t&&(e=t)}return e},SCASPSetting.ajaxcounter=0,SCASPSetting.startAjaxPickup=function(e){setTimeout(function(){if(-1==window.location.href.indexOf("/cart")){var t=SCASPSetting.getAjaxFormId();e(t).length?(SCASPSetting.ajaxcounter=0,e(".scasp-loading-option").length&&e(".scasp-loading-option").remove(),e(t).append('<div class="scasp-loading-option" style="color:#1b0eba;text-align:center;margin-bottom:16px;"><span class="scasp-ajax-loading"></span></div>'),e.ajax({type:"get",url:"/cart",success:function(t){var i=SCASPSetting.getAjaxFormId();if(0!=e('script[src*="storepickup_scripttag"]').length){e('script[src*="storepickup_scripttag"]').eq(0).attr("src");var a=e("<div/>").html(t);if(e(i).length>0&&e(".scasp-wrapper",a).length>0){e(i+" .scasp-wrapper").remove(),e(i+" #sca-storepickup-container").remove(),e(i).append(e(".scasp-wrapper",a));try{testMode&&console.log(SCASPSetting),useMapApiKey()?"undefined"!=typeof jQuerySCASP&&void 0!==jQuerySCASP.fn.storePickup?(testMode&&console.log("handlerScriptApi"),void 0!==SCASPSetting.storePickup&&SCASPSetting.storePickup.reset(),SCASPSetting.handlerScriptApi(jQuerySCASP)):(testMode&&console.log("initStorePickup"),SCASPSetting.initStorePickup(jQuerySCASP)):"undefined"!=typeof jQuerySCASP&&void 0!==jQuerySCASP.fn.storePickup?(testMode&&console.log("handlerScriptApi"),void 0!==SCASPSetting.storePickup&&SCASPSetting.storePickup.reset(),SCASPSetting.handlerScriptNoneApi(jQuerySCASP)):(SCASPSetting.handlerScriptNoneApi(jQuerySCASP),testMode&&console.log("initStorePickup"))}catch(e){"undefined"!=typeof jQuerySCASP&&void 0!==jQuerySCASP.fn.storePickup?(testMode&&console.log("handlerScriptApi"),void 0!==SCASPSetting.storePickup&&SCASPSetting.storePickup.reset(),SCASPSetting.handlerScriptNoneApi(jQuerySCASP)):(testMode&&console.log("initStorePickup 1323"),SCASPSetting.initStorePickup(jQuerySCASP))}}e(".scasp-loading-option").length&&e(".scasp-loading-option").remove()}},error:function(){e(".scasp-loading-option").length&&e(".sca-loading-option").remove()}})):SCASPSetting.ajaxcounter<5&&(testMode&&console.log("try: "+SCASPSetting.ajaxcounter),SCASPSetting.ajaxcounter++,SCASPSetting.startAjaxPickup(e))}},1e3)},SCASPSetting.doAjaxPickup=function(e,t,i){-1!=i.url.indexOf("/cart.js")&&(SCASPSetting.ajaxcounter=0,SCASPSetting.startAjaxPickup(jQuerySCASP))},SCASPSetting.jqueryIntervalCounter=10,"undefined"!==SCASPSetting.jqueryInterval&&clearInterval(SCASPSetting.jqueryInterval),SCASPSetting.jqueryInterval=setInterval(e,500))}();var scasp_not_found_location_handle={renderNotFoundLocation:function(e=!0,t=""){if(jQuerySCASP("#sca-storepickup-container .scasp-not-found-location").remove(),testMode&&console.log("renderNotFoundLocation"),e){let e=jQuerySCASP("<div>",{class:"scasp-not-found-location"});return jQuerySCASP(e).append(jQuerySCASP("<div>",{class:"scasp-error-msg",text:""==t?SCASPSetting.st_location_not_found:t})),jQuerySCASP("#sca-storepickup-container").append(e)}}};
 } 